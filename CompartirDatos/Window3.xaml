<Window x:Class="CompartirDatos.Window3"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        Title="Trazabilidad" Height="550" Width="800"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None" 
        AllowsTransparency="True"
        ResizeMode="NoResize">
    <Window.Background>
        <ImageBrush/>
    </Window.Background>

    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome CaptionHeight="0" 
                            GlassFrameThickness="0" 
                            CornerRadius="8" />
    </shell:WindowChrome.WindowChrome>

    <Border Background="#1E1E1E" CornerRadius="8" BorderBrush="#444444" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="50"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0" Background="#111111">
                <TextBlock Text="TRAZABILIDAD DE PIEZA - HISTORIAL DETALLADO" 
                           Foreground="White" 
                           VerticalAlignment="Center" 
                           FontWeight="Bold" 
                           FontSize="12"
                           Margin="15,0,0,0"/>

                <Button Content="✕" 
                        HorizontalAlignment="Right" 
                        Width="45" 
                        Background="Transparent" 
                        Foreground="White" 
                        BorderThickness="0"
                        shell:WindowChrome.IsHitTestVisibleInChrome="True"
                        Click="Cerrar_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#E81123"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>

            <Grid Grid.Row="1" Margin="10,5,10,5">
                <DataGrid Name="resumenDatosPieza" RowBackground="#2D2D2D" AlternatingRowBackground="#333333"
                          Foreground="White" BorderBrush="#444444" HorizontalGridLinesBrush="#444444"
                          GridLinesVisibility="Horizontal" AutoGenerateColumns="False"
                          CanUserAddRows="False" IsReadOnly="True"
                          RowHeaderWidth="0"
                          FontSize="18"
                          CanUserResizeColumns="False" 
                          CanUserReorderColumns="False"
                          CanUserSortColumns="False">
                    <DataGrid.Background>
                        <ImageBrush ImageSource="/ChatGPT Image 12 feb 2026, 14_29_46.png"/>
                    </DataGrid.Background>

                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#111111"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="Padding" Value="10,8"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="BorderThickness" Value="0,0,0,1"/>
                            <Setter Property="BorderBrush" Value="#444444"/>
                        </Style>
                    </DataGrid.ColumnHeaderStyle>

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="FECHA" 
                                            Binding="{Binding Fecha, StringFormat={}{0:dd/MM/yyyy HH:mm:ss}}" 
                                            Width="160"/>

                        <DataGridTextColumn Header="MÁQUINA" 
                                            Binding="{Binding Maquina}" 
                                            Width="*"/>

                        <DataGridTextColumn Header="ESTADO" 
                                            Binding="{Binding EstadoDeLaPieza}" 
                                            Width="130">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Margin" Value="5,0"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Style.Triggers>
                                        <Trigger Property="Text" Value="TERMINADO">
                                            <Setter Property="Foreground" Value="#90EE90"/>
                                        </Trigger>
                                        <Trigger Property="Text" Value="FALTA/RECHAZO">
                                            <Setter Property="Foreground" Value="#FF6B6B"/>
                                        </Trigger>
                                        <Trigger Property="Text" Value="CONFLICTO/ERROR">
                                            <Setter Property="Foreground" Value="Orange"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>

            <Grid Grid.Row="2">
                <Grid.Background>
                    <ImageBrush/>
                </Grid.Background>
                <Button Content="GUARDAR CAPTURA" 
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Center" 
                        Height="30" Width="140" 
                        Background="#333333" 
                        BorderBrush="#666666" 
                        Foreground="White" 
                        FontWeight="Bold"
                        Click="botonSacarCaptura">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="4"/>
                        </Style>
                    </Button.Resources>
                </Button>
            </Grid>
        </Grid>
    </Border>
</Window>